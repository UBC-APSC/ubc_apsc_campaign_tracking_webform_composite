(function($,Drupal,drupalSetting){const utmParams=drupalSettings.ubc_apsc_campaign_tracking_webform_composite.vars;function getLocalStorageItem(name){const item=localStorage.getItem(name);if(!item){return null}return JSON.parse(item)}function clearLocalStorageItem(){utmParams.forEach(param=>{localStorage.removeItem('act_'+param)})}function populateACTfields(){const parentElement=document.querySelector('.js-form-ubc-apsc-campaign-tracking-webform-composite');if(parentElement){utmParams.forEach(param=>{const storageKey='act_'+param;const inputElements=parentElement.querySelectorAll(`input[name*="[${ storageKey }]"]`);inputElements.forEach(inputElement=>{if(inputElement){const localStorageValue=getLocalStorageItem(storageKey);if(localStorageValue!==undefined){inputElement.value=localStorageValue}}})})}}$(function(){populateACTfields();$('#'+drupalSettings.ubc_apsc_campaign_tracking_webform_composite.act_form).submit(function(e){clearLocalStorageItem()})});window.addEventListener("CookiebotOnLoad",function(e){var cookieConsent=window.Cookiebot.consent;if(typeof cookieConsent!=='undefined'&&!cookieConsent.marketing){clearLocalStorageItem()}else{populateACTfields()}},false)})(jQuery,Drupal,drupalSettings);